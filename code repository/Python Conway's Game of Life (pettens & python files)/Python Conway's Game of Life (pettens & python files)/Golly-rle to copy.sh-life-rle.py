from PIL import Image

THRESHOLD = 200

def png_to_rle(png_path, rle_path):
    img = Image.open(r"C:\Users\JOY\Desktop\íƒœë¯¼ì´ íœ´ëŒ€í°\âŸªğŸ‘¨ğŸ»â€ğŸ’»íƒœë¯¼íŒŒì¼âœ¨âŸ«\ì‘í’ˆëª¨ìŒ\íƒœë¯¼ì‘í’ˆ\âŸªå¤§éŸ“ Multiverse Empire â€¢ Established 1995 â€¢ ê±´ì–‘(å»ºé™½) 1024x1024px ì›ë…„ logoâŸ«.png").convert("L")
    img = img.resize((314, 314))
    w, h = img.size
    px = img.load()

    body = ""
    for y in range(h):
        last = None
        count = 0
        for x in range(w):
            cell = 'o' if px[x, y] < THRESHOLD else 'b'
            if cell == last:
                count += 1
            else:
                if last:
                    body += (str(count) if count > 1 else '') + last
                last = cell
                count = 1
        body += (str(count) if count > 1 else '') + last
        body += "$"
    body += "!"

    header = f"""#N âŸªå¤§éŸ“ Multiverse Empire â€¢ Established 1995 â€¢ ê±´ì–‘(å»ºé™½) ì›ë…„ 314x314px life of game logoâŸ«
#W Origin website: https://crispiest-crunchingly-dani.ngrok-free.dev/
#M Made by Golly : https://golly.sourceforge.io/webapp/golly.html#find
#C Eternal Core Calendar
#Y Gen : AC 2026
#M Observer : Joyce
#O Generated by Taemin's Integrated Analyzer
#C Multiverse Empire Life World
#B best of âŸªå¤§éŸ“ Multiverse Empire â€¢ Established 1995 â€¢ ê±´ì–‘(å»ºé™½) ì›ë…„ life of game logoâŸ«
x = {w}, y = {h}, rule = B3/S23
"""

    with open(r"C:\Users\JOY\Desktop\íƒœë¯¼ì´ íœ´ëŒ€í°\âŸªğŸ‘¨ğŸ»â€ğŸ’»íƒœë¯¼íŒŒì¼âœ¨âŸ«\íŒŒì´ì¬ ì‘í’ˆ\Python Conway's Game of Life (pettens & python files)\Python Conway's Game of Life (pettens & python files)\âŸªå¤§éŸ“ Multiverse Empire â€¢ Established 1995 â€¢ ê±´ì–‘(å»ºé™½) ì›ë…„ 314x314px life of game logoâŸ« 004.rle", "w", encoding="utf-8") as f:
        f.write(header + body)

png_to_rle(r"C:\Users\JOY\Desktop\íƒœë¯¼ì´ íœ´ëŒ€í°\âŸªğŸ‘¨ğŸ»â€ğŸ’»íƒœë¯¼íŒŒì¼âœ¨âŸ«\ì‘í’ˆëª¨ìŒ\íƒœë¯¼ì‘í’ˆ\âŸªå¤§éŸ“ Multiverse Empire â€¢ Established 1995 â€¢ ê±´ì–‘(å»ºé™½) 1024x1024px ì›ë…„ logoâŸ«.png", r"C:\Users\JOY\Desktop\íƒœë¯¼ì´ íœ´ëŒ€í°\âŸªğŸ‘¨ğŸ»â€ğŸ’»íƒœë¯¼íŒŒì¼âœ¨âŸ«\íŒŒì´ì¬ ì‘í’ˆ\Python Conway's Game of Life (pettens & python files)\Python Conway's Game of Life (pettens & python files)\âŸªå¤§éŸ“ Multiverse Empire â€¢ Established 1995 â€¢ ê±´ì–‘(å»ºé™½) ì›ë…„ 314x314px life of game logoâŸ« 005.rle")
